✅ tool_choice="required"


Jab aap agent ke ModelSettings mein tool_choice="required" lagate ho, to iska matlab hota hai ke LLM (language model) ko force kiya gaya hai ke wo tool zaroor call kare — chahe user ka prompt clear ho ya na ho. Required ka fayda ye hota hai ke aap 100% sure ho jaate ho ke tool execute hoga (for example: weather, date/time, math). Lekin yeh setting sirf usi ek turn tak apply hoti hai. Jaise hi agent ek baar tool successfully chala leta hai, SDK automatically tool_choice ko "auto" par shift kar deta hai aglay turn ke liye — jiska matlab hai ke agli baar model decide karega tool chalana hai ya nahi. Yeh design is liye banaya gaya hai takay conversation natural lage aur har baar tool call na ho jab zarurat na ho. Agar aap chahte ho ke har baar tool required ho, to aapko manually har turn mein tool_choice="required" dobara set karna padega ya custom logic likhna padega.



Agar aap chahte ho ke har turn mein tool zaroor call ho, to aap tool_choice="required" har baar explicitly set kar sakte ho — ya to agent ke ModelSettings mein ya phir dynamically har run ke context mein update kar ke. Iska matlab hai ke model har baar tool call karega, bina skip kiye. Lekin agar aap careful nahi ho, aur tool har baar khud ko dubara trigger kare — for example, tool ka output prompt jaisa lage model ko — to ek infinite loop ban sakta hai jahan model bar bar tool ko call karta rahe bina rukay. SDK internally kuch safeguards rakhta hai, lekin agar aapka prompt aur tool ka output ambiguous ho, to agent multiple turns tak repeat tool calls kar sakta hai, jo system slow ya crash bhi kar sakta hai. Is liye, jab aap required ko repeatedly use karte ho, to tool ke response ko handle karne wali logic clean aur predictable honi chahiye, taake agent samjhe ke tool call ho chuki hai aur ab response generate karna hai — warna wo confuse hoke tool ko dubara call karne lagega.
